<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>JupyterCon 2020 - Production Notebooks</title>
		<link rel="stylesheet" href="assets/dist/reveal.css">
		<link rel="stylesheet" href="assets/dist/theme/white.css" id="theme">
        <link rel="stylesheet" href="assets/plugin/highlight/monokai.css">
        <style>
            .reveal .smallfont {
                font-size: 18px;
            }
        </style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
                <section data-markdown>
                    <script type="text/template">
                        <!-- .slide: data-background="#000000" -->
                        # Production Notebooks

                        Tim Paine - J.P. Morgan

                        <br>
                        <div style="display: flex; flex-direction: row; justify-content:center;align-items:center;">
                            <img src="assets/img/gh.png" width=100></img>
                            <span>@timkpaine</span>
                        </div>
                    </script>
                </section>
                <section>
                    <section data-markdown data-separator="---">
                        <script type="text/template">
                            ## Talk Overview
                            - Background on J.P. Morgan/Athena and our Jupyter deployment
                            - How we use Jupyter
                            - Infrastructure, Software Lifecycle, and Library support for safe notebook use in production

                        </script>
                    </section>
                </section>
                <section>
                    <section data-markdown data-separator="---">
                        <script type="text/template">
                            ## Background

                            ---

                            <img src="assets/img/jpm.png" width=400></img>

                            One of the world's biggest banks <!-- .element: class="fragment" data-fragment-index="1" -->

                            <span>>40k technology employees</span> <!-- .element: class="fragment" data-fragment-index="2" -->

                            ~$10B annual technology investment <!-- .element: class="fragment" data-fragment-index="3" -->

                            ---

                            ## Athena

                            Python-based platform <!-- .element: class="fragment" data-fragment-index="1" -->

                            ~2000 developers <!-- .element: class="fragment" data-fragment-index="2" -->

                            ~40mm loc <!-- .element: class="fragment" data-fragment-index="3" -->

                            1000+ OSS packages <!-- .element: class="fragment" data-fragment-index="4" -->

                            <span>Hundreds to Thousands of production code releases <strong>per day</strong></span> <!-- .element: class="fragment" data-fragment-index="5" -->

                            <span><em>Managing python at scale without breaking the bank</em><br>M. Tselman - PyData 2017 (<a href="https://www.slideshare.net/PyData/managing-python-at-scale-without-breaking-the-bank">Slides</a>)</span> <!-- .element: class="fragment" data-fragment-index="6" -->

                            ---

                            <img src="assets/img/ar.png" width=500></img>

                            Small, global team <!-- .element: class="fragment" data-fragment-index="1" -->

                            Focused on Analytics, AI/ML, and emerging technology <!-- .element: class="fragment" data-fragment-index="2" -->

                            ---


                            Hosted Jupyter platform serves thousands of daily users globally, mostly Business users and Quantitative Researchers <!-- .element: class="fragment" data-fragment-index="1" -->

                            <img src="assets/img/jp_users.png" width=1000></img> <!-- .element: class="fragment" data-fragment-index="2" -->
                        </script>
                    </section>
                </section>
                <section>
                    <section data-markdown data-separator="---">
                        <script type="text/template">
                            ## How we use Jupyter

                            --- 

                            <img src="assets/img/jupyter.png" width=300></img>

                            <span>We run Jupyter <strong>in production</strong> with three target deployments</span> <!-- .element: class="fragment" data-fragment-index="1" -->

                            - JupyterLab (1 deployment for ~1.5k users, libraries available to run instances locally) <!-- .element: class="fragment" data-fragment-index="2" -->
                            - Static reports using NBConvert and Papermill (hundreds scheduled daily) <!-- .element: class="fragment" data-fragment-index="3" -->
                            - Live applications using VoilÃ  and Panel (~50 in production, >100 in development)  <!-- .element: class="fragment" data-fragment-index="4" -->
                            
                            ---

                            ## Infrastructure support

                            - Scheduler suitable for both batch and HA jobs (called "Bob")
                            - Distributed, replicating object store (called "Hydra")
                                - Used for both data and code (as a monorepo)
                                - Allows you to look at "slices", union them together backed by a shared "production" layer
                                - More details in the previously referenced PyData talk

                            ---

                            What does "production" mean in the context of a Jupyter Developer?

                            - Share functionality amongst a larger group, or with non-technical users (e.g. "can I hide the code and just see the results")
                            - Run the notebook in some automated fashion
                            - Stable, testable, deployable, extensible

                            --- 
                            
                            Avoid notebook pitfalls and antipatterns (e.g. try to avoid "I Don't Like Notebooks" problems)

                            Notebooks are a scratchpad for underlying libraries

                            Useful for quickly experimenting or iterating

                            Used to present text and data together

                            Push library development down to a proper IDE

                            --- 

                            Linearly-Executed Notebooks

                            Notebooks execute top-to-bottom for both reports and apps


                        </script>
                    </section>
                </section>

                <section>
                    <section data-markdown data-separator="---">
                        <script type="text/template">

                        </script>
                    </section>
                </section>







            </div>
		</div>
		<script src="assets/dist/reveal.js"></script>
        <script src="assets/plugin/markdown/markdown.js"></script>
        <script src="assets/plugin/highlight/highlight.js"></script>
        <script src="assets/plugin/notes/notes.js"></script>
		<script>
			Reveal.initialize({
				center: true,
				controls: true,
				history: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ],
				progress: true,
                slideNumber: true
			});
        </script>
        
	</body>
</html>
